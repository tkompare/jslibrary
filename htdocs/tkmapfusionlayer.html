<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1 minimim-scale=1">
	<link rel="shortcut icon" href="img/favicon.ico">
	<!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	
	<!-- Le styles -->
	<link type="text/css" href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/prettify.css" type="text/css" rel="stylesheet" />
	<style type="text/css">
		body {
			padding-top: 50px;
			padding-bottom: 20px;
		}
		#map img {
			max-width: none;
		}
	</style>
	<link href="css/bootstrap-responsive.min.css" rel="stylesheet">
	<title>JS Library Demo</title>
</head>
<body onload="prettyPrint()">
	<div class="navbar navbar-fixed-top">
		<div class="navbar-inner">
			<div class="container">
				<a class="btn btn-navbar" data-toggle="collapse"
					data-target=".nav-collapse"> <span class="icon-bar"></span> <span
					class="icon-bar"></span> <span class="icon-bar"></span>
				</a> <a class="brand" href="/">JS Library</a>
				<div class="nav-collapse">
					<ul class="nav">
						<li><a href="/">Home</a></li>
						<li><a href="demos.html">Demos</a></li>
						<li><a href="docs.html">Docs</a></li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	<div class="container-fluid">
		<div class="row-fluid">
			<div class="span12">
				<div class="row-fluid">
					<div class="span6">
						<div class="row-fluid">
							<div class="span2">
								<p><a class="btn btn-primary" href="demos.html"><i class="icon-chevron-left icon-white"></i> Back</a></p>
							</div>
							<div class="span10">
								<h2>JS Library Demo</h2>
								<h3>tkmapfusionlayer.js</h3>
							</div>
						</div>
						<hr>
						<div class="well">
							<p>In this example, we map a Fusion Table of tree trimming requests to Chicago's 311.</p>
							<label class="checkbox">
								<input id="open" type="checkbox"> Show just the open tree trimming requests
							</label>
						</div>
						<div class="well">
							<p>You'll first need a place to put the map.</p>
<pre class="prettyprint">
&lt;div style="display:inline-block; position:relative; width:100%;"&gt;
  &lt;div style="margin-top:100%;"&gt;
    &lt;div id="map" style="position:absolute; top:0; bottom:0; left:0;right:0;"&gt;&lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</pre>
						</div>
						<div class="well">
							<p>Somewhere in your CSS, you'll need this.</p>
<pre class="prettyprint">
#map img { max-width: none; }
</pre>
						</div>
						<div class="well">
							<p>Include required JS libraries, just above the end &lt;/body&gt; tag.</p>
<pre class="prettyprint">
&lt;script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"&gt;&lt;/script&gt;
&lt;script src="https://maps-api-ssl.google.com/maps/api/js?v=3.8&amp;sensor=false"&gt;&lt;/script&gt;
&lt;script src="js/tkmap.2.1.0.js"&gt;&lt;/script&gt;
&lt;script src="js/tkmapfusionlayer.2.0.0.js"&gt;&lt;/script&gt;
&lt;script src="js/tkmapfusionlayercontroller.js"&gt;&lt;/script&gt;
</pre>
						</div>
						<div class="well">
							<p>Here is this example's controller Javascript <b>tkmapfusionlayercontroller.js</b>.</p>
<pre class="prettyprint">
$(document).ready(function() {
  // The Google Maps base map layer
  var Map = new TkMap(true,'map',42.01048,-87.6652,15,true,'road minlabels grey');
  // The tree trim request map layer
  var TreeTrimLayer = new TkMapFusionLayer(true,Map.map,'3028961','Location');
  // Open checkbox listener
  $("#open").click(function() {
    if ($("#open").is(':checked')) {
      TreeTrimLayer.showLayer('search','Open','Status');
    } else {
      TreeTrimLayer.showLayer();
    }
  });
});
</pre>
						</div>
					</div>
					<div class="span6">
						<div style="display:inline-block; position:relative; width:100%;">
							<div style="margin-top:100%;">
								<div id="map" style="position:absolute; top:0; bottom:0; left:0;right:0;"></div>
							</div>
						</div>
						<hr>
						<div class="well">
							<p>This code is available on GitHub at: <a href="https://github.com/tkompare/jslibrary">https://github.com/tkompare/jslibrary</a></p>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="row-fluid">
			<div class="span12">
				<hr />
				<div class="well">
					<p>Author: <a href="http://twitter.com/tomkompare">Tom Kompare</a><br />
					Data Source: <a href="https://data.cityofchicago.org/Service-Requests/311-Service-Requests-Tree-Trims/uxic-zsuj">data.cityofchicago.org</a><br /></p>
					<p>License: <a rel="license" href="http://creativecommons.org/licenses/by-nc/3.0/us/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc/3.0/us/80x15.png" /></a> This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc/3.0/us/">Creative Commons Attribution-NonCommercial 3.0 United States License</a>.</p>
					<p>All open and completed tree trim requests made to 311 since January 1, 2011.* The Department of Streets and Sanitation maintains all trees growing in the public way.</p>
					<p><em>* data last updated: April 18, 2012</em></p>
				</div>
			</div>
		</div>
	</div>
	<!-- Le javascript ================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script src="js/thirdparty/bootstrap.min.js"></script>
	<script src="js/thirdparty/prettify.js"></script>
	<script src="https://maps-api-ssl.google.com/maps/api/js?v=3.8&sensor=false"></script>
	<script src="js/tkmap/tkmap.2.1.0.js"></script>
	<script src="js/tkmapfusionlayer/tkmapfusionlayer.2.0.0.js"></script>
	<script src="js/demo/tkmapfusionlayercontroller.js"></script>
	<script>
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-31004074-1']);
		_gaq.push(['_trackPageview']);
		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>
</body>
</html>